<div class="main">
  <div class="container">
    <div class="overviewAndFilter">
      <div class="overviewHead">
        <h4>Candidate Overview</h4>
      </div>
      <div class="searchAndFilter">
        <div class="search">
          <input
            [(ngModel)]="serachValue"
            (ngModelChange)="search(serachValue)"
            name="search"
            type="text"
            placeholder="Search Candidate ID/Name"
          />
        </div>
        <!-- <div class="filter">
          <button>Filters</button>
        </div> -->
        <div class="addCandidate">
          <button routerLink="/addcandidate">Add Candidate</button>
        </div>
      </div>
    </div>
    <div class="filterSec">
      <div class="jobOpening">
        <label for="">Job Opening</label><br />
        <!-- <mat-chip-list>
  <mat-chip *ngFor="let selectedOption of selectedOptions" removable (removed)="removeOption(selectedOption)">
    {{ selectedOption }}
    <mat-icon matChipRemove>cancel</mat-icon>
  </mat-chip>
</mat-chip-list> -->

        <select (change)="jobOpenings($event)">
          <option value="">Please Select</option>
          <option
            *ngFor="let jobOpening of candidateSkillSetsArr"
            value="{{ jobOpening }}"
          >
            {{ jobOpening }}
          </option>
        </select>
      </div>
      <div class="noticePeriod">
        <label for="">Notice Period</label><br />
        <select (change)="noticePeriod($event)">
          <option value="">Please Select</option>
          <option
            *ngFor="let NoticePeriod of NoticePeriodArr"
            value="{{ NoticePeriod }}"
          >
            {{ NoticePeriod }}
          </option>
        </select>
      </div>
      <div class="source">
        <label for="">Source</label><br />
        <select (change)="source($event)">
          <option value="">Please Select</option>
          <option *ngFor="let source of SourceArr" value="{{ source }}">
            {{ source }}
          </option>
        </select>
      </div>
      <div class="AddedBy">
        <label for="">Added by</label><br />
        <select (change)="addedBy($event)">
          <option value="">Please Select</option>
          <option
            *ngFor="let interviewedBy of interviewedByArr"
            value="{{ interviewedBy }}"
          >
            {{ interviewedBy }}
          </option>
        </select>
      </div>
      <div class="startAndEndDate">
        <label for="">Start and End Date</label><br />
        <input
          type="text"
          matInput
          ngxDaterangepickerMd
          style="width: 180px"
          [locale]="{ applyLabel: 'ok', format: 'DD-MM-YYYY' }"
          [(ngModel)]="selected"
          name="daterange"
          placeholder="DD-MM-YYYY~DD-MM-YYYY"
          #pickerr
          (change)="date()"
        />
      </div>
    </div>
    <div class="candidateTable">
      <mat-sidenav-container>
        <mat-sidenav #sidenav mode="side" [opened]="showSidenav">
          <app-sidenav [candidate]="selectedCandidate"></app-sidenav>
        </mat-sidenav>
        <ul>
          <li
            (click)="candStatus(i)"
            class="optionType"
            [class.selected]="selectedIndex === i"
            *ngFor="
              let candidateStatusCustom of candidateStatusCustom;
              let i = index
            "
          >
            <input type="radio" name="" id="" />
            <ng-container>
              {{ candidateStatusCustom.name }}
            </ng-container>
          </li>
        </ul>
        <table>
          <tbody>
            <tr class="mainHead">
              <th>CANDIDATE NAME</th>
              <th>APPLIED ROLE</th>
              <th>REL EXP</th>
              <th>N PERIOD</th>
              <th>ADDED BY</th>
              <th>STATUS</th>
              <th></th>
              <th></th>
            </tr>
            <tr
              class="details"
              *ngFor="
                let candidate of candidateIndo | paginate : config;
                let i = index
              "
            >
              <td
                class="candidateName"
                (click)="candidatesDetails(candidate._id)"
              >
                {{ candidate.firstName }} {{ candidate.lastName }} <br /><span
                  class="canNum"
                  >SBC0987/Others</span
                >
              </td>
              <td>{{ candidate.currentJobTitle }}</td>
              <td>{{ candidate.relevantExperience }}</td>
              <td>{{ candidate.noticePeriod }}</td>
              <td class="addedBy">
                {{ candidate.interviewBy }} <br /><span class="date">{{
                  candidate.modifiedDate | date
                }}</span>
              </td>
              <td *ngIf="candidate.status == 'Rejected'">
                <span class="rejected">Rejected</span>
              </td>
              <td *ngIf="candidate.status == 'Screening'">
                <span class="screening">Screening</span>
              </td>
              <td *ngIf="candidate.status == 'DsRound'">
                <span class="DSRound">DS Round & API</span>
              </td>
              <td class="document">
                <div class="resumeDownload">
                  <img
                    (click)="resumeClick(candidate)"
                    src="../../images/resume.png"
                    alt="doc"
                  />
                </div>
              </td>
              <td class="list">
                <img src="../../images/search.png" alt="doc" />
              </td>
            </tr>
            <div class="sidenav" [ngClass]="{ 'sidenav-open': sidenavOpen }">
              <div class="sidenav-content">
                <button (click)="closeSidenav()">Close</button>

                <iframe
                  [src]="resumeUrl"
                  style="width: 718px; height: 700px"
                  frameborder="0"
                ></iframe>
              </div>
            </div>
          </tbody>
        </table>
      </mat-sidenav-container>
      <div class="pagination">
        <pagination-controls
          (pageChange)="gty((page = $event))"
        ></pagination-controls>
      </div>
    </div>
  </div>
</div>
